<h5>W.I.P Forums</h5>
<div *ngIf="forums$ | async as forums">
  <div class="row mx-0">
    <div class="col-10 g-0 gap-1">
      @for(section of forums; track section){
        <collapsable-card
          id="{{section.url}}"
          cardClass="bg-primary border-secondary"
          headerClass="bg-secondary border-secondary">
          <header>
            <span>{{section.title}}</span>
          </header>

          @for(forum of section.children; track forum){
          <!--<div class="row align-items-center">
            <div *ngIf="forum.latestThread" class="col-4 align-content-end">
              @let thread = forum.latestThread;
              @let post = thread.latestPost;
              <div class="row g-0 gap-1">
                <div class="col-sm-1 align-content-center">
                  <div id="author-icon" class="d-flex mx-auto align-items-center justify-content-center">
                    <span>A</span>
                  </div>
                </div>
                <div class="col-sm-10 mx-0 font-small">
                  <a routerLink="threads/{{thread.title}}.{{thread.id}}">{{thread.title}}</a>
                  <div>
                    <span class="time">{{now | timeSince:post.createdAt:post.editedAt}}</span>
                    <a routerLink="/user">Author Name</a>
                  </div>
                </div>
              </div>

            </div>

          </div>-->
            <forum-row [forum]="forum"/>
          }
        </collapsable-card>
      }
    </div>
    <div class="col-2 gap-1">
      <stub-online-users/>
      <br>
      <card-forum-statistics/>
    </div>
  </div>
</div>
